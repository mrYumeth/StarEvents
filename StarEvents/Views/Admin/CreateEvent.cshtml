@model StarEvents.ViewModels.AdminEventViewModel
@{
    var isEdit = Model?.Id > 0;
    ViewData["Title"] = isEdit ? "Edit Event" : "Create Event";
}
<div class="container-fluid">
    <h2>@ViewData["Title"]</h2>

    <form asp-action="@(isEdit ? "EditEvent" : "CreateEvent")" method="post">
        @if (isEdit)
        {
            <input type="hidden" asp-for="Id" />
        }

        <div class="mb-3">
            <label asp-for="Title" class="form-label"></label>
            <input asp-for="Title" class="form-control" />
            <span asp-validation-for="Title" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="Description" class="form-label"></label>
            <textarea asp-for="Description" class="form-control" rows="4"></textarea>
        </div>

        <div class="row">
            <div class="col-md-4 mb-3">
                <label asp-for="Category" class="form-label"></label>
                <input asp-for="Category" class="form-control" />
            </div>
            <div class="col-md-4 mb-3">
                <label asp-for="StartDate" class="form-label"></label>
                <input asp-for="StartDate" type="datetime-local" class="form-control" value="@Model.StartDate.ToString("yyyy-MM-ddTHH:mm")" />
            </div>
            <div class="col-md-4 mb-3">
                <label asp-for="EndDate" class="form-label"></label>
                <input asp-for="EndDate" type="datetime-local" class="form-control" value="@(Model.EndDate?.ToString("yyyy-MM-ddTHH:mm") ?? "")" />
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 mb-3">
                <label asp-for="VenueId" class="form-label">Venue</label>
                <select asp-for="VenueId" asp-items="@(new SelectList(Model.Venues, "Id", "VenueName"))" class="form-select">
                    <option value="">-- Select venue --</option>
                </select>
            </div>

            <div class="col-md-4 mb-3">
                <label asp-for="OrganizerId" class="form-label">Organizer</label>
                <select asp-for="OrganizerId" asp-items="@(new SelectList(Model.Organizers, "Id", "Email"))" class="form-select">
                    <option value="">-- Select organizer --</option>
                </select>
            </div>

            <div class="col-md-2 mb-3">
                <label asp-for="TicketPrice" class="form-label"></label>
                <input asp-for="TicketPrice" class="form-control" />
            </div>

            <div class="col-md-2 mb-3">
                <label asp-for="AvailableTickets" class="form-label"></label>
                <input asp-for="AvailableTickets" class="form-control" />
            </div>
        </div>

        <div class="mb-3">
            <label asp-for="Status" class="form-label"></label>
            <input asp-for="Status" class="form-control" />
        </div>

        <button class="btn btn-primary">@(isEdit ? "Save changes" : "Create Event")</button>
        <a asp-action="Events" class="btn btn-secondary ms-2">Cancel</a>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
