@model StarEvents.ViewModels.AdminReportsViewModel
@{
    ViewData["Title"] = "Reports";
}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Reports</h2>
        <div>
            <a class="btn btn-outline-light" asp-action="ExportReport" asp-route-reportType="users">Export Users</a>
            <a class="btn btn-outline-light ms-2" asp-action="ExportReport" asp-route-reportType="events">Export Events</a>
            <a class="btn btn-outline-light ms-2" asp-action="ExportReport" asp-route-reportType="bookings">Export Bookings</a>
        </div>
    </div>

    <div class="row g-3 mb-3">
        <div class="col-md-6"><div class="card p-3"><h5>Total Revenue</h5><h3>@Model.TotalRevenue.ToString("C")</h3></div></div>
        <div class="col-md-6"><div class="card p-3"><h5>Tickets Sold</h5><h3>@Model.TotalTicketsSold</h3></div></div>
    </div>

    <div class="card mb-3">
        <div class="card-header">Top Events</div>
        <div class="card-body">
            <table class="table table-dark table-striped">
                <thead><tr><th>Event</th><th>Tickets</th><th>Revenue</th></tr></thead>
                <tbody>
                    @foreach (var t in Model.TopEvents)
                    {
                        <tr><td>@t.EventTitle</td><td>@t.TicketsSold</td><td>@t.Revenue.ToString("C")</td></tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
